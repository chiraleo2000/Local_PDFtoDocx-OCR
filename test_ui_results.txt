============================= test session starts =============================
platform win32 -- Python 3.12.10, pytest-9.0.2, pluggy-1.6.0 -- C:\Users\chira\Documents\visualstudiocode\Work\Local_PDFtoDocx-OCR-V0.1\.venv\Scripts\python.exe
cachedir: .pytest_cache
rootdir: C:\Users\chira\Documents\visualstudiocode\Work\Local_PDFtoDocx-OCR-V0.1
plugins: anyio-4.12.1
collecting ... collected 43 items

tests/test_ui.py::TestServerHealth::test_server_returns_200 PASSED       [  2%]
tests/test_ui.py::TestServerHealth::test_server_serves_html PASSED       [  4%]
tests/test_ui.py::TestPDFConversionActions::test_conversion_succeeds PASSED [  6%]
tests/test_ui.py::TestPDFConversionActions::test_conversion_extracts_text PASSED [  9%]
tests/test_ui.py::TestPDFConversionActions::test_conversion_produces_docx PASSED [ 11%]
tests/test_ui.py::TestPDFConversionActions::test_conversion_produces_txt PASSED [ 13%]
tests/test_ui.py::TestPDFConversionActions::test_docx_file_is_valid_word PASSED [ 16%]
tests/test_ui.py::TestPDFConversionActions::test_metadata_has_page_count PASSED [ 18%]
tests/test_ui.py::TestPDFConversionActions::test_metadata_has_languages PASSED [ 20%]
tests/test_ui.py::TestPDFConversionActions::test_no_pdf_returns_error PASSED [ 23%]
tests/test_ui.py::TestPDFConversionActions::test_header_footer_trim PASSED [ 25%]
tests/test_ui.py::TestPDFConversionActions::test_language_override_works PASSED [ 27%]
tests/test_ui.py::TestPDFConversionActions::test_yolo_confidence_override PASSED [ 30%]
tests/test_ui.py::TestDownloadActionsOCRPage::test_download_docx_file_exists PASSED [ 32%]
tests/test_ui.py::TestDownloadActionsOCRPage::test_download_txt_file_exists PASSED [ 34%]
tests/test_ui.py::TestDownloadActionsOCRPage::test_download_docx_not_empty PASSED [ 37%]
tests/test_ui.py::TestDownloadActionsOCRPage::test_download_txt_not_empty PASSED [ 39%]
tests/test_ui.py::TestHistoryPageActions::test_history_lists_entries PASSED [ 41%]
tests/test_ui.py::TestHistoryPageActions::test_history_entry_has_filename PASSED [ 44%]
tests/test_ui.py::TestHistoryPageActions::test_history_download_docx PASSED [ 46%]
tests/test_ui.py::TestHistoryPageActions::test_history_download_txt PASSED [ 48%]
tests/test_ui.py::TestHistoryPageActions::test_history_download_invalid_returns_none PASSED [ 51%]
tests/test_ui.py::TestHistoryPageActions::test_history_download_empty_returns_none PASSED [ 53%]
tests/test_ui.py::TestGradioInterfaceConstruction::test_create_interface_no_error PASSED [ 55%]
tests/test_ui.py::TestGradioInterfaceConstruction::test_interface_has_language_dropdown PASSED [ 58%]
tests/test_ui.py::TestGradioInterfaceConstruction::test_interface_has_engine_dropdown PASSED [ 60%]
tests/test_ui.py::TestGradioInterfaceConstruction::test_interface_has_convert_button PASSED [ 62%]
tests/test_ui.py::TestGradioInterfaceConstruction::test_no_login_section PASSED [ 65%]
tests/test_ui.py::TestGradioInterfaceConstruction::test_interface_has_settings_tab PASSED [ 67%]
tests/test_ui.py::TestGradioInterfaceConstruction::test_interface_has_review_tab PASSED [ 69%]
tests/test_ui.py::TestReviewAndCorrectHandlers::test_review_load_pdf PASSED [ 72%]
tests/test_ui.py::TestReviewAndCorrectHandlers::test_review_add_region PASSED [ 74%]
tests/test_ui.py::TestReviewAndCorrectHandlers::test_review_add_region_invalid_bbox PASSED [ 76%]
tests/test_ui.py::TestReviewAndCorrectHandlers::test_review_clear_manual PASSED [ 79%]
tests/test_ui.py::TestReviewAndCorrectHandlers::test_review_convert_with_corrections PASSED [ 81%]
tests/test_ui.py::TestReviewAndCorrectHandlers::test_review_no_pdf_returns_error PASSED [ 83%]
tests/test_ui.py::TestTrainingStats::test_correction_stats_md PASSED     [ 86%]
tests/test_ui.py::TestTrainingStats::test_corrections_log_md PASSED      [ 88%]
tests/test_ui.py::TestTrainingStats::test_draw_detections PASSED         [ 90%]
tests/test_ui.py::TestDockerDeployment::test_http_root_returns_200 ERROR [ 93%]
tests/test_ui.py::TestDockerDeployment::test_container_pipeline_processes_pdf ERROR [ 95%]
tests/test_ui.py::TestDockerDeployment::test_container_pipeline_with_language ERROR [ 97%]
tests/test_ui.py::TestDockerDeployment::test_container_gradio_interface_builds ERROR [100%]

=================================== ERRORS ====================================
______ ERROR at setup of TestDockerDeployment.test_http_root_returns_200 ______
tests\test_ui.py:521: in docker_container
    assert build.returncode == 0, f"docker build failed:\n{build.stderr[-2000:]}"
E   AssertionError: docker build failed:
E     lim@sha256:9e01bf1ae5db7649a236da7be1e94ffbbbdd7a93f867dd0d8d5720d9e1f89fab 0.0s done
E     #4 DONE 0.0s
E     
E     #5 [ 2/12] WORKDIR /app
E     #5 CACHED
E     
E     #6 [ 3/12] RUN apt-get update && apt-get install -y --no-install-recommends     tesseract-ocr     tesseract-ocr-eng tesseract-ocr-tha     tesseract-ocr-chi-sim tesseract-ocr-jpn tesseract-ocr-kor     tesseract-ocr-ara     libgl1 libglib2.0-0     curl     && rm -rf /var/lib/apt/lists/*
E     #6 CACHED
E     
E     #7 [internal] load build context
E     #7 transferring context: 446.51kB 0.1s done
E     #7 DONE 0.1s
E     
E     #8 [ 9/12] COPY tests/ ./tests/
E     #8 CACHED
E     
E     #9 [10/12] COPY .env.example ./.env.example
E     #9 CACHED
E     
E     #10 [ 8/12] COPY app.py ./
E     #10 CACHED
E     
E     #11 [ 6/12] RUN pip install --no-cache-dir -r requirements.txt
E     #11 CACHED
E     
E     #12 [ 7/12] COPY src/ ./src/
E     #12 CACHED
E     
E     #13 [ 5/12] COPY requirements.txt ./
E     #13 CACHED
E     
E     #14 [11/12] COPY models/ ./models/
E     #14 ERROR: failed to calculate checksum of ref u560b5jzzviczj4j8rxklv0cm::z98ad8fgq16yw7w33purkgls7: "/models": not found
E     
E     #15 [ 4/12] RUN pip install --no-cache-dir --upgrade pip &&     pip install --no-cache-dir torch torchvision     --index-url https://download.pytorch.org/whl/cpu
E     #15 0.118 runc run failed: unable to start container process: can't copy bootstrap data to pipe: write init-p: broken pipe
E     #15 CANCELED
E     ------
E      > [11/12] COPY models/ ./models/:
E     ------
E     
E      [33m1 warning found (use docker --debug to expand):
E     [0m - CopyIgnoredFile: Attempting to Copy file "models" that is excluded by .dockerignore (line 40)
E     Dockerfile:40
E     --------------------
E       38 |     COPY tests/ ./tests/
E       39 |     COPY .env.example ./.env.example
E       40 | >>> COPY models/ ./models/
E       41 |     
E       42 |     # Setup env and runtime directories
E     --------------------
E     ERROR: failed to build: failed to solve: failed to compute cache key: failed to calculate checksum of ref u560b5jzzviczj4j8rxklv0cm::z98ad8fgq16yw7w33purkgls7: "/models": not found
E     
E     View build details: docker-desktop://dashboard/build/desktop-linux/desktop-linux/uvo3tq4sjjzp19zxptodamvsy
E     
E   assert 1 == 0
E    +  where 1 = CompletedProcess(args=['docker', 'build', '-t', 'pdf-ocr-pipeline:test', 'C:\\Users\\chira\\Documents\\visualstudiocode\\Work\\Local_PDFtoDocx-OCR-V0.1'], returncode=1, stdout='', stderr='#0 building with "desktop-linux" instance using docker driver\n\n#1 [internal] load build definition from Dockerfile\n#1 transferring dockerfile: 1.61kB 0.0s done\n#1 DONE 0.0s\n\n#2 [internal] load metadata for docker.io/library/python:3.12-slim\n#2 DONE 1.5s\n\n#3 [internal] load .dockerignore\n#3 transferring context: 433B 0.0s done\n#3 DONE 0.0s\n\n#4 [ 1/12] FROM docker.io/library/python:3.12-slim@sha256:9e01bf1ae5db7649a236da7be1e94ffbbbdd7a93f867dd0d8d5720d9e1f89fab\n#4 resolve docker.io/library/python:3.12-slim@sha256:9e01bf1ae5db7649a236da7be1e94ffbbbdd7a93f867dd0d8d5720d9e1f89fab 0.0s done\n#4 DONE 0.0s\n\n#5 [ 2/12] WORKDIR /app\n#5 CACHED\n\n#6 [ 3/12] RUN apt-get update && apt-get install -y --no-install-recommends     tesseract-ocr     tesseract-ocr-eng tesseract-ocr-tha     tesseract-ocr-chi-sim tesseract-ocr-jpn tesseract-ocr-kor     tesseract-ocr-ara     libgl1 libglib2.0-0     curl     && rm -rf /var/lib/apt/lists/*\n#6 CACHED\n\n#7 [internal] load build context\n#7 transferrin...12] COPY models/ ./models/\n#14 ERROR: failed to calculate checksum of ref u560b5jzzviczj4j8rxklv0cm::z98ad8fgq16yw7w33purkgls7: "/models": not found\n\n#15 [ 4/12] RUN pip install --no-cache-dir --upgrade pip &&     pip install --no-cache-dir torch torchvision     --index-url https://download.pytorch.org/whl/cpu\n#15 0.118 runc run failed: unable to start container process: can\'t copy bootstrap data to pipe: write init-p: broken pipe\n#15 CANCELED\n------\n > [11/12] COPY models/ ./models/:\n------\n\n \x1b[33m1 warning found (use docker --debug to expand):\n\x1b[0m - CopyIgnoredFile: Attempting to Copy file "models" that is excluded by .dockerignore (line 40)\nDockerfile:40\n--------------------\n  38 |     COPY tests/ ./tests/\n  39 |     COPY .env.example ./.env.example\n  40 | >>> COPY models/ ./models/\n  41 |     \n  42 |     # Setup env and runtime directories\n--------------------\nERROR: failed to build: failed to solve: failed to compute cache key: failed to calculate checksum of ref u560b5jzzviczj4j8rxklv0cm::z98ad8fgq16yw7w33purkgls7: "/models": not found\n\nView build details: docker-desktop://dashboard/build/desktop-linux/desktop-linux/uvo3tq4sjjzp19zxptodamvsy\n').returncode
_ ERROR at setup of TestDockerDeployment.test_container_pipeline_processes_pdf _
tests\test_ui.py:521: in docker_container
    assert build.returncode == 0, f"docker build failed:\n{build.stderr[-2000:]}"
E   AssertionError: docker build failed:
E     lim@sha256:9e01bf1ae5db7649a236da7be1e94ffbbbdd7a93f867dd0d8d5720d9e1f89fab 0.0s done
E     #4 DONE 0.0s
E     
E     #5 [ 2/12] WORKDIR /app
E     #5 CACHED
E     
E     #6 [ 3/12] RUN apt-get update && apt-get install -y --no-install-recommends     tesseract-ocr     tesseract-ocr-eng tesseract-ocr-tha     tesseract-ocr-chi-sim tesseract-ocr-jpn tesseract-ocr-kor     tesseract-ocr-ara     libgl1 libglib2.0-0     curl     && rm -rf /var/lib/apt/lists/*
E     #6 CACHED
E     
E     #7 [internal] load build context
E     #7 transferring context: 446.51kB 0.1s done
E     #7 DONE 0.1s
E     
E     #8 [ 9/12] COPY tests/ ./tests/
E     #8 CACHED
E     
E     #9 [10/12] COPY .env.example ./.env.example
E     #9 CACHED
E     
E     #10 [ 8/12] COPY app.py ./
E     #10 CACHED
E     
E     #11 [ 6/12] RUN pip install --no-cache-dir -r requirements.txt
E     #11 CACHED
E     
E     #12 [ 7/12] COPY src/ ./src/
E     #12 CACHED
E     
E     #13 [ 5/12] COPY requirements.txt ./
E     #13 CACHED
E     
E     #14 [11/12] COPY models/ ./models/
E     #14 ERROR: failed to calculate checksum of ref u560b5jzzviczj4j8rxklv0cm::z98ad8fgq16yw7w33purkgls7: "/models": not found
E     
E     #15 [ 4/12] RUN pip install --no-cache-dir --upgrade pip &&     pip install --no-cache-dir torch torchvision     --index-url https://download.pytorch.org/whl/cpu
E     #15 0.118 runc run failed: unable to start container process: can't copy bootstrap data to pipe: write init-p: broken pipe
E     #15 CANCELED
E     ------
E      > [11/12] COPY models/ ./models/:
E     ------
E     
E      [33m1 warning found (use docker --debug to expand):
E     [0m - CopyIgnoredFile: Attempting to Copy file "models" that is excluded by .dockerignore (line 40)
E     Dockerfile:40
E     --------------------
E       38 |     COPY tests/ ./tests/
E       39 |     COPY .env.example ./.env.example
E       40 | >>> COPY models/ ./models/
E       41 |     
E       42 |     # Setup env and runtime directories
E     --------------------
E     ERROR: failed to build: failed to solve: failed to compute cache key: failed to calculate checksum of ref u560b5jzzviczj4j8rxklv0cm::z98ad8fgq16yw7w33purkgls7: "/models": not found
E     
E     View build details: docker-desktop://dashboard/build/desktop-linux/desktop-linux/uvo3tq4sjjzp19zxptodamvsy
E     
E   assert 1 == 0
E    +  where 1 = CompletedProcess(args=['docker', 'build', '-t', 'pdf-ocr-pipeline:test', 'C:\\Users\\chira\\Documents\\visualstudiocode\\Work\\Local_PDFtoDocx-OCR-V0.1'], returncode=1, stdout='', stderr='#0 building with "desktop-linux" instance using docker driver\n\n#1 [internal] load build definition from Dockerfile\n#1 transferring dockerfile: 1.61kB 0.0s done\n#1 DONE 0.0s\n\n#2 [internal] load metadata for docker.io/library/python:3.12-slim\n#2 DONE 1.5s\n\n#3 [internal] load .dockerignore\n#3 transferring context: 433B 0.0s done\n#3 DONE 0.0s\n\n#4 [ 1/12] FROM docker.io/library/python:3.12-slim@sha256:9e01bf1ae5db7649a236da7be1e94ffbbbdd7a93f867dd0d8d5720d9e1f89fab\n#4 resolve docker.io/library/python:3.12-slim@sha256:9e01bf1ae5db7649a236da7be1e94ffbbbdd7a93f867dd0d8d5720d9e1f89fab 0.0s done\n#4 DONE 0.0s\n\n#5 [ 2/12] WORKDIR /app\n#5 CACHED\n\n#6 [ 3/12] RUN apt-get update && apt-get install -y --no-install-recommends     tesseract-ocr     tesseract-ocr-eng tesseract-ocr-tha     tesseract-ocr-chi-sim tesseract-ocr-jpn tesseract-ocr-kor     tesseract-ocr-ara     libgl1 libglib2.0-0     curl     && rm -rf /var/lib/apt/lists/*\n#6 CACHED\n\n#7 [internal] load build context\n#7 transferrin...12] COPY models/ ./models/\n#14 ERROR: failed to calculate checksum of ref u560b5jzzviczj4j8rxklv0cm::z98ad8fgq16yw7w33purkgls7: "/models": not found\n\n#15 [ 4/12] RUN pip install --no-cache-dir --upgrade pip &&     pip install --no-cache-dir torch torchvision     --index-url https://download.pytorch.org/whl/cpu\n#15 0.118 runc run failed: unable to start container process: can\'t copy bootstrap data to pipe: write init-p: broken pipe\n#15 CANCELED\n------\n > [11/12] COPY models/ ./models/:\n------\n\n \x1b[33m1 warning found (use docker --debug to expand):\n\x1b[0m - CopyIgnoredFile: Attempting to Copy file "models" that is excluded by .dockerignore (line 40)\nDockerfile:40\n--------------------\n  38 |     COPY tests/ ./tests/\n  39 |     COPY .env.example ./.env.example\n  40 | >>> COPY models/ ./models/\n  41 |     \n  42 |     # Setup env and runtime directories\n--------------------\nERROR: failed to build: failed to solve: failed to compute cache key: failed to calculate checksum of ref u560b5jzzviczj4j8rxklv0cm::z98ad8fgq16yw7w33purkgls7: "/models": not found\n\nView build details: docker-desktop://dashboard/build/desktop-linux/desktop-linux/uvo3tq4sjjzp19zxptodamvsy\n').returncode
_ ERROR at setup of TestDockerDeployment.test_container_pipeline_with_language _
tests\test_ui.py:521: in docker_container
    assert build.returncode == 0, f"docker build failed:\n{build.stderr[-2000:]}"
E   AssertionError: docker build failed:
E     lim@sha256:9e01bf1ae5db7649a236da7be1e94ffbbbdd7a93f867dd0d8d5720d9e1f89fab 0.0s done
E     #4 DONE 0.0s
E     
E     #5 [ 2/12] WORKDIR /app
E     #5 CACHED
E     
E     #6 [ 3/12] RUN apt-get update && apt-get install -y --no-install-recommends     tesseract-ocr     tesseract-ocr-eng tesseract-ocr-tha     tesseract-ocr-chi-sim tesseract-ocr-jpn tesseract-ocr-kor     tesseract-ocr-ara     libgl1 libglib2.0-0     curl     && rm -rf /var/lib/apt/lists/*
E     #6 CACHED
E     
E     #7 [internal] load build context
E     #7 transferring context: 446.51kB 0.1s done
E     #7 DONE 0.1s
E     
E     #8 [ 9/12] COPY tests/ ./tests/
E     #8 CACHED
E     
E     #9 [10/12] COPY .env.example ./.env.example
E     #9 CACHED
E     
E     #10 [ 8/12] COPY app.py ./
E     #10 CACHED
E     
E     #11 [ 6/12] RUN pip install --no-cache-dir -r requirements.txt
E     #11 CACHED
E     
E     #12 [ 7/12] COPY src/ ./src/
E     #12 CACHED
E     
E     #13 [ 5/12] COPY requirements.txt ./
E     #13 CACHED
E     
E     #14 [11/12] COPY models/ ./models/
E     #14 ERROR: failed to calculate checksum of ref u560b5jzzviczj4j8rxklv0cm::z98ad8fgq16yw7w33purkgls7: "/models": not found
E     
E     #15 [ 4/12] RUN pip install --no-cache-dir --upgrade pip &&     pip install --no-cache-dir torch torchvision     --index-url https://download.pytorch.org/whl/cpu
E     #15 0.118 runc run failed: unable to start container process: can't copy bootstrap data to pipe: write init-p: broken pipe
E     #15 CANCELED
E     ------
E      > [11/12] COPY models/ ./models/:
E     ------
E     
E      [33m1 warning found (use docker --debug to expand):
E     [0m - CopyIgnoredFile: Attempting to Copy file "models" that is excluded by .dockerignore (line 40)
E     Dockerfile:40
E     --------------------
E       38 |     COPY tests/ ./tests/
E       39 |     COPY .env.example ./.env.example
E       40 | >>> COPY models/ ./models/
E       41 |     
E       42 |     # Setup env and runtime directories
E     --------------------
E     ERROR: failed to build: failed to solve: failed to compute cache key: failed to calculate checksum of ref u560b5jzzviczj4j8rxklv0cm::z98ad8fgq16yw7w33purkgls7: "/models": not found
E     
E     View build details: docker-desktop://dashboard/build/desktop-linux/desktop-linux/uvo3tq4sjjzp19zxptodamvsy
E     
E   assert 1 == 0
E    +  where 1 = CompletedProcess(args=['docker', 'build', '-t', 'pdf-ocr-pipeline:test', 'C:\\Users\\chira\\Documents\\visualstudiocode\\Work\\Local_PDFtoDocx-OCR-V0.1'], returncode=1, stdout='', stderr='#0 building with "desktop-linux" instance using docker driver\n\n#1 [internal] load build definition from Dockerfile\n#1 transferring dockerfile: 1.61kB 0.0s done\n#1 DONE 0.0s\n\n#2 [internal] load metadata for docker.io/library/python:3.12-slim\n#2 DONE 1.5s\n\n#3 [internal] load .dockerignore\n#3 transferring context: 433B 0.0s done\n#3 DONE 0.0s\n\n#4 [ 1/12] FROM docker.io/library/python:3.12-slim@sha256:9e01bf1ae5db7649a236da7be1e94ffbbbdd7a93f867dd0d8d5720d9e1f89fab\n#4 resolve docker.io/library/python:3.12-slim@sha256:9e01bf1ae5db7649a236da7be1e94ffbbbdd7a93f867dd0d8d5720d9e1f89fab 0.0s done\n#4 DONE 0.0s\n\n#5 [ 2/12] WORKDIR /app\n#5 CACHED\n\n#6 [ 3/12] RUN apt-get update && apt-get install -y --no-install-recommends     tesseract-ocr     tesseract-ocr-eng tesseract-ocr-tha     tesseract-ocr-chi-sim tesseract-ocr-jpn tesseract-ocr-kor     tesseract-ocr-ara     libgl1 libglib2.0-0     curl     && rm -rf /var/lib/apt/lists/*\n#6 CACHED\n\n#7 [internal] load build context\n#7 transferrin...12] COPY models/ ./models/\n#14 ERROR: failed to calculate checksum of ref u560b5jzzviczj4j8rxklv0cm::z98ad8fgq16yw7w33purkgls7: "/models": not found\n\n#15 [ 4/12] RUN pip install --no-cache-dir --upgrade pip &&     pip install --no-cache-dir torch torchvision     --index-url https://download.pytorch.org/whl/cpu\n#15 0.118 runc run failed: unable to start container process: can\'t copy bootstrap data to pipe: write init-p: broken pipe\n#15 CANCELED\n------\n > [11/12] COPY models/ ./models/:\n------\n\n \x1b[33m1 warning found (use docker --debug to expand):\n\x1b[0m - CopyIgnoredFile: Attempting to Copy file "models" that is excluded by .dockerignore (line 40)\nDockerfile:40\n--------------------\n  38 |     COPY tests/ ./tests/\n  39 |     COPY .env.example ./.env.example\n  40 | >>> COPY models/ ./models/\n  41 |     \n  42 |     # Setup env and runtime directories\n--------------------\nERROR: failed to build: failed to solve: failed to compute cache key: failed to calculate checksum of ref u560b5jzzviczj4j8rxklv0cm::z98ad8fgq16yw7w33purkgls7: "/models": not found\n\nView build details: docker-desktop://dashboard/build/desktop-linux/desktop-linux/uvo3tq4sjjzp19zxptodamvsy\n').returncode
_ ERROR at setup of TestDockerDeployment.test_container_gradio_interface_builds _
tests\test_ui.py:521: in docker_container
    assert build.returncode == 0, f"docker build failed:\n{build.stderr[-2000:]}"
E   AssertionError: docker build failed:
E     lim@sha256:9e01bf1ae5db7649a236da7be1e94ffbbbdd7a93f867dd0d8d5720d9e1f89fab 0.0s done
E     #4 DONE 0.0s
E     
E     #5 [ 2/12] WORKDIR /app
E     #5 CACHED
E     
E     #6 [ 3/12] RUN apt-get update && apt-get install -y --no-install-recommends     tesseract-ocr     tesseract-ocr-eng tesseract-ocr-tha     tesseract-ocr-chi-sim tesseract-ocr-jpn tesseract-ocr-kor     tesseract-ocr-ara     libgl1 libglib2.0-0     curl     && rm -rf /var/lib/apt/lists/*
E     #6 CACHED
E     
E     #7 [internal] load build context
E     #7 transferring context: 446.51kB 0.1s done
E     #7 DONE 0.1s
E     
E     #8 [ 9/12] COPY tests/ ./tests/
E     #8 CACHED
E     
E     #9 [10/12] COPY .env.example ./.env.example
E     #9 CACHED
E     
E     #10 [ 8/12] COPY app.py ./
E     #10 CACHED
E     
E     #11 [ 6/12] RUN pip install --no-cache-dir -r requirements.txt
E     #11 CACHED
E     
E     #12 [ 7/12] COPY src/ ./src/
E     #12 CACHED
E     
E     #13 [ 5/12] COPY requirements.txt ./
E     #13 CACHED
E     
E     #14 [11/12] COPY models/ ./models/
E     #14 ERROR: failed to calculate checksum of ref u560b5jzzviczj4j8rxklv0cm::z98ad8fgq16yw7w33purkgls7: "/models": not found
E     
E     #15 [ 4/12] RUN pip install --no-cache-dir --upgrade pip &&     pip install --no-cache-dir torch torchvision     --index-url https://download.pytorch.org/whl/cpu
E     #15 0.118 runc run failed: unable to start container process: can't copy bootstrap data to pipe: write init-p: broken pipe
E     #15 CANCELED
E     ------
E      > [11/12] COPY models/ ./models/:
E     ------
E     
E      [33m1 warning found (use docker --debug to expand):
E     [0m - CopyIgnoredFile: Attempting to Copy file "models" that is excluded by .dockerignore (line 40)
E     Dockerfile:40
E     --------------------
E       38 |     COPY tests/ ./tests/
E       39 |     COPY .env.example ./.env.example
E       40 | >>> COPY models/ ./models/
E       41 |     
E       42 |     # Setup env and runtime directories
E     --------------------
E     ERROR: failed to build: failed to solve: failed to compute cache key: failed to calculate checksum of ref u560b5jzzviczj4j8rxklv0cm::z98ad8fgq16yw7w33purkgls7: "/models": not found
E     
E     View build details: docker-desktop://dashboard/build/desktop-linux/desktop-linux/uvo3tq4sjjzp19zxptodamvsy
E     
E   assert 1 == 0
E    +  where 1 = CompletedProcess(args=['docker', 'build', '-t', 'pdf-ocr-pipeline:test', 'C:\\Users\\chira\\Documents\\visualstudiocode\\Work\\Local_PDFtoDocx-OCR-V0.1'], returncode=1, stdout='', stderr='#0 building with "desktop-linux" instance using docker driver\n\n#1 [internal] load build definition from Dockerfile\n#1 transferring dockerfile: 1.61kB 0.0s done\n#1 DONE 0.0s\n\n#2 [internal] load metadata for docker.io/library/python:3.12-slim\n#2 DONE 1.5s\n\n#3 [internal] load .dockerignore\n#3 transferring context: 433B 0.0s done\n#3 DONE 0.0s\n\n#4 [ 1/12] FROM docker.io/library/python:3.12-slim@sha256:9e01bf1ae5db7649a236da7be1e94ffbbbdd7a93f867dd0d8d5720d9e1f89fab\n#4 resolve docker.io/library/python:3.12-slim@sha256:9e01bf1ae5db7649a236da7be1e94ffbbbdd7a93f867dd0d8d5720d9e1f89fab 0.0s done\n#4 DONE 0.0s\n\n#5 [ 2/12] WORKDIR /app\n#5 CACHED\n\n#6 [ 3/12] RUN apt-get update && apt-get install -y --no-install-recommends     tesseract-ocr     tesseract-ocr-eng tesseract-ocr-tha     tesseract-ocr-chi-sim tesseract-ocr-jpn tesseract-ocr-kor     tesseract-ocr-ara     libgl1 libglib2.0-0     curl     && rm -rf /var/lib/apt/lists/*\n#6 CACHED\n\n#7 [internal] load build context\n#7 transferrin...12] COPY models/ ./models/\n#14 ERROR: failed to calculate checksum of ref u560b5jzzviczj4j8rxklv0cm::z98ad8fgq16yw7w33purkgls7: "/models": not found\n\n#15 [ 4/12] RUN pip install --no-cache-dir --upgrade pip &&     pip install --no-cache-dir torch torchvision     --index-url https://download.pytorch.org/whl/cpu\n#15 0.118 runc run failed: unable to start container process: can\'t copy bootstrap data to pipe: write init-p: broken pipe\n#15 CANCELED\n------\n > [11/12] COPY models/ ./models/:\n------\n\n \x1b[33m1 warning found (use docker --debug to expand):\n\x1b[0m - CopyIgnoredFile: Attempting to Copy file "models" that is excluded by .dockerignore (line 40)\nDockerfile:40\n--------------------\n  38 |     COPY tests/ ./tests/\n  39 |     COPY .env.example ./.env.example\n  40 | >>> COPY models/ ./models/\n  41 |     \n  42 |     # Setup env and runtime directories\n--------------------\nERROR: failed to build: failed to solve: failed to compute cache key: failed to calculate checksum of ref u560b5jzzviczj4j8rxklv0cm::z98ad8fgq16yw7w33purkgls7: "/models": not found\n\nView build details: docker-desktop://dashboard/build/desktop-linux/desktop-linux/uvo3tq4sjjzp19zxptodamvsy\n').returncode
============================== warnings summary ===============================
tests/test_ui.py::TestPDFConversionActions::test_conversion_succeeds
tests/test_ui.py::TestPDFConversionActions::test_conversion_succeeds
  C:\Users\chira\Documents\visualstudiocode\Work\Local_PDFtoDocx-OCR-V0.1\.venv\Lib\site-packages\thop\profile.py:12: DeprecationWarning: distutils Version classes are deprecated. Use packaging.version instead.
    if LooseVersion(torch.__version__) < LooseVersion("1.0.0"):

tests/test_ui.py::TestPDFConversionActions::test_conversion_succeeds
tests/test_ui.py::TestPDFConversionActions::test_conversion_succeeds
  C:\Users\chira\Documents\visualstudiocode\Work\Local_PDFtoDocx-OCR-V0.1\.venv\Lib\site-packages\thop\profile.py:68: DeprecationWarning: distutils Version classes are deprecated. Use packaging.version instead.
    if LooseVersion(torch.__version__) >= LooseVersion("1.1.0"):

tests/test_ui.py::TestGradioInterfaceConstruction::test_create_interface_no_error
  C:\Users\chira\Documents\visualstudiocode\Work\Local_PDFtoDocx-OCR-V0.1\.venv\Lib\site-packages\gradio\routes.py:63: PendingDeprecationWarning: Please use `import python_multipart` instead.
    from multipart.multipart import parse_options_header

tests/test_ui.py::TestGradioInterfaceConstruction::test_create_interface_no_error
  C:\Users\chira\Documents\visualstudiocode\Work\Local_PDFtoDocx-OCR-V0.1\.venv\Lib\site-packages\gradio\utils.py:98: DeprecationWarning: There is no current event loop
    asyncio.get_event_loop()

tests/test_ui.py: 14 warnings
  C:\Users\chira\Documents\visualstudiocode\Work\Local_PDFtoDocx-OCR-V0.1\.venv\Lib\site-packages\gradio\routes.py:1215: DeprecationWarning: 
          on_event is deprecated, use lifespan event handlers instead.
  
          Read more about it in the
          [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).
          
    @app.on_event("startup")

tests/test_ui.py: 14 warnings
  C:\Users\chira\Documents\visualstudiocode\Work\Local_PDFtoDocx-OCR-V0.1\.venv\Lib\site-packages\fastapi\applications.py:4573: DeprecationWarning: 
          on_event is deprecated, use lifespan event handlers instead.
  
          Read more about it in the
          [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).
          
    return self.router.on_event(event_type)

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ===========================
ERROR tests/test_ui.py::TestDockerDeployment::test_http_root_returns_200 - As...
ERROR tests/test_ui.py::TestDockerDeployment::test_container_pipeline_processes_pdf
ERROR tests/test_ui.py::TestDockerDeployment::test_container_pipeline_with_language
ERROR tests/test_ui.py::TestDockerDeployment::test_container_gradio_interface_builds
============ 39 passed, 34 warnings, 4 errors in 708.38s (0:11:48) ============
