============================= test session starts =============================
platform win32 -- Python 3.12.10, pytest-9.0.2, pluggy-1.6.0 -- C:\Users\chira\Documents\visualstudiocode\Work\Local_PDFtoDocx-OCR-V0.1\.venv\Scripts\python.exe
cachedir: .pytest_cache
rootdir: C:\Users\chira\Documents\visualstudiocode\Work\Local_PDFtoDocx-OCR-V0.1
plugins: anyio-4.12.1
collecting ... collected 86 items

tests/test_pipeline.py::TestOCRPipeline::test_process_pdf_success PASSED [  1%]
tests/test_pipeline.py::TestOCRPipeline::test_process_pdf_has_text PASSED [  2%]
tests/test_pipeline.py::TestOCRPipeline::test_process_pdf_metadata PASSED [  3%]
tests/test_pipeline.py::TestOCRPipeline::test_process_pdf_files_dict PASSED [  4%]
tests/test_pipeline.py::TestOCRPipeline::test_process_pdf_txt_exists PASSED [  5%]
tests/test_pipeline.py::TestOCRPipeline::test_process_pdf_docx_exists PASSED [  6%]
tests/test_pipeline.py::TestOCRPipeline::test_process_pdf_docx_readable PASSED [  8%]
tests/test_pipeline.py::TestOCRPipeline::test_process_pdf_invalid_path PASSED [  9%]
tests/test_pipeline.py::TestOCRPipeline::test_get_status PASSED          [ 10%]
tests/test_pipeline.py::TestOCRPipeline::test_get_status_has_corrections PASSED [ 11%]
tests/test_pipeline.py::TestCorrectionStore::test_init_creates_dirs PASSED [ 12%]
tests/test_pipeline.py::TestCorrectionStore::test_log_correction_returns_dict PASSED [ 13%]
tests/test_pipeline.py::TestCorrectionStore::test_log_correction_saves_image PASSED [ 15%]
tests/test_pipeline.py::TestCorrectionStore::test_log_correction_saves_label PASSED [ 16%]
tests/test_pipeline.py::TestCorrectionStore::test_corrections_jsonl_appended PASSED [ 17%]
tests/test_pipeline.py::TestCorrectionStore::test_get_stats PASSED       [ 18%]
tests/test_pipeline.py::TestCorrectionStore::test_retrain_triggers_at_interval PASSED [ 19%]
tests/test_pipeline.py::TestCorrectionStore::test_auto_source_not_counted PASSED [ 20%]
tests/test_pipeline.py::TestCorrectionStore::test_get_corrections_log PASSED [ 22%]
tests/test_pipeline.py::TestCorrectionStore::test_log_page_detections PASSED [ 23%]
tests/test_pipeline.py::TestPipelineCorrections::test_detect_page_regions PASSED [ 24%]
tests/test_pipeline.py::TestPipelineCorrections::test_detect_page_regions_invalid_page PASSED [ 25%]
tests/test_pipeline.py::TestPipelineCorrections::test_add_manual_region PASSED [ 26%]
tests/test_pipeline.py::TestPipelineCorrections::test_process_pdf_with_corrections PASSED [ 27%]
tests/test_pipeline.py::TestPipelineCorrections::test_process_pdf_with_corrections_no_manual PASSED [ 29%]
tests/test_pipeline.py::TestOCREngine::test_available_engines PASSED     [ 30%]
tests/test_pipeline.py::TestOCREngine::test_tesseract_available PASSED   [ 31%]
tests/test_pipeline.py::TestOCREngine::test_ocr_image PASSED             [ 32%]
tests/test_pipeline.py::TestOCREngine::test_is_available PASSED          [ 33%]
tests/test_pipeline.py::TestOpenCVPreprocessor::test_preprocess_fast PASSED [ 34%]
tests/test_pipeline.py::TestOpenCVPreprocessor::test_preprocess_balanced PASSED [ 36%]
tests/test_pipeline.py::TestOpenCVPreprocessor::test_preprocess_accurate PASSED [ 37%]
tests/test_pipeline.py::TestDocumentExporter::test_create_txt PASSED     [ 38%]
tests/test_pipeline.py::TestDocumentExporter::test_create_docx PASSED    [ 39%]
tests/test_pipeline.py::TestDocumentExporter::test_create_html PASSED    [ 40%]
tests/test_pipeline.py::TestDocumentExporter::test_create_all PASSED     [ 41%]
tests/test_pipeline.py::TestAuthManager::test_default_guest_login PASSED [ 43%]
tests/test_pipeline.py::TestAuthManager::test_invalid_login PASSED       [ 44%]
tests/test_pipeline.py::TestAuthManager::test_register_and_login PASSED  [ 45%]
tests/test_pipeline.py::TestAuthManager::test_session_validate PASSED    [ 46%]
tests/test_pipeline.py::TestAuthManager::test_logout_invalidates_session PASSED [ 47%]
tests/test_pipeline.py::TestHistoryManager::test_save_and_list PASSED    [ 48%]
tests/test_pipeline.py::TestHistoryManager::test_get_file_path PASSED    [ 50%]
tests/test_ui.py::TestServerHealth::test_server_returns_200 PASSED       [ 51%]
tests/test_ui.py::TestServerHealth::test_server_serves_html PASSED       [ 52%]
tests/test_ui.py::TestPDFConversionActions::test_conversion_succeeds PASSED [ 53%]
tests/test_ui.py::TestPDFConversionActions::test_conversion_extracts_text PASSED [ 54%]
tests/test_ui.py::TestPDFConversionActions::test_conversion_produces_docx PASSED [ 55%]
tests/test_ui.py::TestPDFConversionActions::test_conversion_produces_txt PASSED [ 56%]
tests/test_ui.py::TestPDFConversionActions::test_docx_file_is_valid_word PASSED [ 58%]
tests/test_ui.py::TestPDFConversionActions::test_metadata_has_page_count PASSED [ 59%]
tests/test_ui.py::TestPDFConversionActions::test_metadata_has_languages PASSED [ 60%]
tests/test_ui.py::TestPDFConversionActions::test_no_pdf_returns_error PASSED [ 61%]
tests/test_ui.py::TestPDFConversionActions::test_header_footer_trim PASSED [ 62%]
tests/test_ui.py::TestPDFConversionActions::test_language_override_works PASSED [ 63%]
tests/test_ui.py::TestPDFConversionActions::test_yolo_confidence_override PASSED [ 65%]
tests/test_ui.py::TestDownloadActionsOCRPage::test_download_docx_file_exists PASSED [ 66%]
tests/test_ui.py::TestDownloadActionsOCRPage::test_download_txt_file_exists PASSED [ 67%]
tests/test_ui.py::TestDownloadActionsOCRPage::test_download_docx_not_empty PASSED [ 68%]
tests/test_ui.py::TestDownloadActionsOCRPage::test_download_txt_not_empty PASSED [ 69%]
tests/test_ui.py::TestHistoryPageActions::test_history_lists_entries PASSED [ 70%]
tests/test_ui.py::TestHistoryPageActions::test_history_entry_has_filename PASSED [ 72%]
tests/test_ui.py::TestHistoryPageActions::test_history_download_docx PASSED [ 73%]
tests/test_ui.py::TestHistoryPageActions::test_history_download_txt PASSED [ 74%]
tests/test_ui.py::TestHistoryPageActions::test_history_download_invalid_returns_none PASSED [ 75%]
tests/test_ui.py::TestHistoryPageActions::test_history_download_empty_returns_none PASSED [ 76%]
tests/test_ui.py::TestGradioInterfaceConstruction::test_create_interface_no_error PASSED [ 77%]
tests/test_ui.py::TestGradioInterfaceConstruction::test_interface_has_language_dropdown PASSED [ 79%]
tests/test_ui.py::TestGradioInterfaceConstruction::test_interface_has_engine_dropdown PASSED [ 80%]
tests/test_ui.py::TestGradioInterfaceConstruction::test_interface_has_convert_button PASSED [ 81%]
tests/test_ui.py::TestGradioInterfaceConstruction::test_no_login_section PASSED [ 82%]
tests/test_ui.py::TestGradioInterfaceConstruction::test_interface_has_settings_tab PASSED [ 83%]
tests/test_ui.py::TestGradioInterfaceConstruction::test_interface_has_review_tab PASSED [ 84%]
tests/test_ui.py::TestReviewAndCorrectHandlers::test_review_load_pdf PASSED [ 86%]
tests/test_ui.py::TestReviewAndCorrectHandlers::test_review_add_region PASSED [ 87%]
tests/test_ui.py::TestReviewAndCorrectHandlers::test_review_add_region_invalid_bbox PASSED [ 88%]
tests/test_ui.py::TestReviewAndCorrectHandlers::test_review_clear_manual PASSED [ 89%]
tests/test_ui.py::TestReviewAndCorrectHandlers::test_review_convert_with_corrections PASSED [ 90%]
tests/test_ui.py::TestReviewAndCorrectHandlers::test_review_no_pdf_returns_error PASSED [ 91%]
tests/test_ui.py::TestTrainingStats::test_correction_stats_md PASSED     [ 93%]
tests/test_ui.py::TestTrainingStats::test_corrections_log_md PASSED      [ 94%]
tests/test_ui.py::TestTrainingStats::test_draw_detections PASSED         [ 95%]
tests/test_ui.py::TestDockerDeployment::test_http_root_returns_200 PASSED [ 96%]
tests/test_ui.py::TestDockerDeployment::test_container_pipeline_processes_pdf PASSED [ 97%]
tests/test_ui.py::TestDockerDeployment::test_container_pipeline_with_language PASSED [ 98%]
tests/test_ui.py::TestDockerDeployment::test_container_gradio_interface_builds PASSED [100%]

============================== warnings summary ===============================
tests/test_pipeline.py::TestOCRPipeline::test_process_pdf_success
tests/test_pipeline.py::TestOCRPipeline::test_process_pdf_success
  C:\Users\chira\Documents\visualstudiocode\Work\Local_PDFtoDocx-OCR-V0.1\.venv\Lib\site-packages\thop\profile.py:12: DeprecationWarning: distutils Version classes are deprecated. Use packaging.version instead.
    if LooseVersion(torch.__version__) < LooseVersion("1.0.0"):

tests/test_pipeline.py::TestOCRPipeline::test_process_pdf_success
tests/test_pipeline.py::TestOCRPipeline::test_process_pdf_success
  C:\Users\chira\Documents\visualstudiocode\Work\Local_PDFtoDocx-OCR-V0.1\.venv\Lib\site-packages\thop\profile.py:68: DeprecationWarning: distutils Version classes are deprecated. Use packaging.version instead.
    if LooseVersion(torch.__version__) >= LooseVersion("1.1.0"):

tests/test_ui.py::TestGradioInterfaceConstruction::test_create_interface_no_error
  C:\Users\chira\Documents\visualstudiocode\Work\Local_PDFtoDocx-OCR-V0.1\.venv\Lib\site-packages\gradio\routes.py:63: PendingDeprecationWarning: Please use `import python_multipart` instead.
    from multipart.multipart import parse_options_header

tests/test_ui.py::TestGradioInterfaceConstruction::test_create_interface_no_error
  C:\Users\chira\Documents\visualstudiocode\Work\Local_PDFtoDocx-OCR-V0.1\.venv\Lib\site-packages\gradio\utils.py:98: DeprecationWarning: There is no current event loop
    asyncio.get_event_loop()

tests/test_ui.py: 14 warnings
  C:\Users\chira\Documents\visualstudiocode\Work\Local_PDFtoDocx-OCR-V0.1\.venv\Lib\site-packages\gradio\routes.py:1215: DeprecationWarning: 
          on_event is deprecated, use lifespan event handlers instead.
  
          Read more about it in the
          [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).
          
    @app.on_event("startup")

tests/test_ui.py: 14 warnings
  C:\Users\chira\Documents\visualstudiocode\Work\Local_PDFtoDocx-OCR-V0.1\.venv\Lib\site-packages\fastapi\applications.py:4573: DeprecationWarning: 
          on_event is deprecated, use lifespan event handlers instead.
  
          Read more about it in the
          [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).
          
    return self.router.on_event(event_type)

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
================ 86 passed, 34 warnings in 1250.09s (0:20:50) =================
